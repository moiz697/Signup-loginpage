{"ast":null,"code":"import _slicedToArray from\"/Users/moiz/Desktop/Signup-loginpage/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Routes,Route,Link}from\"react-router-dom\";import\"bootstrap/dist/css/bootstrap.min.css\";import\"./App.css\";import{fetchDataFromBackend}from'./components/api';// Corrected import path\nimport AuthService from\"./services/auth.service\";import Login from\"./components/Login\";import Register from\"./components/Register\";import Home from\"./components/Home\";import Profile from\"./components/Profile\";import BoardUser from\"./components/BoardUser\";import BoardModerator from\"./components/BoardModerator\";import BoardAdmin from\"./components/BoardAdmin\";import ForgotPassword from\"./components/Forgetpassword\";// Import the new ForgotPassword component\n// Import the UserService module\nimport UserService from'./services/user.service';// Make sure to provide the correct path here\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showModeratorBoard=_useState2[0],setShowModeratorBoard=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showAdminBoard=_useState4[0],setShowAdminBoard=_useState4[1];var _useState5=useState(undefined),_useState6=_slicedToArray(_useState5,2),currentUser=_useState6[0],setCurrentUser=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),data=_useState8[0],setData=_useState8[1];useEffect(function(){var user=AuthService.getCurrentUser();if(user){setCurrentUser(user);setShowModeratorBoard(user.roles.includes(\"ROLE_MODERATOR\"));setShowAdminBoard(user.roles.includes(\"ROLE_ADMIN\"));}// Fetch data from the backend when the component mounts\nfetchDataFromBackend().then(function(data){console.log(\"Data from backend:\",data);setData(data);}).catch(function(error){return console.error('Error:',error);});},[]);var logOut=function logOut(){AuthService.logout();setShowModeratorBoard(false);setShowAdminBoard(false);setCurrentUser(undefined);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar navbar-expand navbar-dark bg-dark bg-gradient\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"navbar-brand\",children:\"Agedb\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-nav mr-auto\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/home\",className:\"nav-link\",children:\"Home\"})}),showModeratorBoard&&/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/mod\",className:\"nav-link\",children:\"Moderator Board\"})}),showAdminBoard&&/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/admin\",className:\"nav-link\",children:\"Admin Board\"})}),currentUser&&/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/user\",className:\"nav-link\",children:\"User\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:data?/*#__PURE__*/_jsx(\"p\",{children:data.message.toString()}):/*#__PURE__*/_jsx(\"p\",{})})})]}),currentUser?/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-nav ml-auto\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/profile\",className:\"nav-link\",children:currentUser.username})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/login\",className:\"nav-link\",onClick:logOut,children:\"LogOut\"})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-nav ml-auto\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"nav-link\",children:\"Login\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"nav-link\",children:\"Sign Up\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container mt-3\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/home\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/profile\",element:/*#__PURE__*/_jsx(Profile,{})}),/*#__PURE__*/_jsx(Route,{path:\"/user\",element:/*#__PURE__*/_jsx(BoardUser,{})}),/*#__PURE__*/_jsx(Route,{path:\"/mod\",element:/*#__PURE__*/_jsx(BoardModerator,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(BoardAdmin,{})}),/*#__PURE__*/_jsx(Route,{path:\"/forgot-password\",element:/*#__PURE__*/_jsx(ForgotPassword,{})}),\" \"]})})]});};export default App;","map":{"version":3,"sources":["/Users/moiz/Desktop/Signup-loginpage/Frontend/src/App.js"],"names":["React","useState","useEffect","Routes","Route","Link","fetchDataFromBackend","AuthService","Login","Register","Home","Profile","BoardUser","BoardModerator","BoardAdmin","ForgotPassword","UserService","App","showModeratorBoard","setShowModeratorBoard","showAdminBoard","setShowAdminBoard","undefined","currentUser","setCurrentUser","data","setData","user","getCurrentUser","roles","includes","then","console","log","catch","error","logOut","logout","message","toString","username"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Routes, Route, Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\nimport { fetchDataFromBackend } from './components/api'; // Corrected import path\nimport AuthService from \"./services/auth.service\";\nimport Login from \"./components/Login\";\nimport Register from \"./components/Register\";\nimport Home from \"./components/Home\";\nimport Profile from \"./components/Profile\";\nimport BoardUser from \"./components/BoardUser\";\nimport BoardModerator from \"./components/BoardModerator\";\nimport BoardAdmin from \"./components/BoardAdmin\";\nimport ForgotPassword from \"./components/Forgetpassword\"; // Import the new ForgotPassword component\n\n// Import the UserService module\nimport UserService from './services/user.service'; // Make sure to provide the correct path here\n\nconst App = () => {\n  const [showModeratorBoard, setShowModeratorBoard] = useState(false);\n  const [showAdminBoard, setShowAdminBoard] = useState(false);\n  const [currentUser, setCurrentUser] = useState(undefined);\n  const [data, setData] = useState(null);\n\n  useEffect(() => {\n    const user = AuthService.getCurrentUser();\n\n    if (user) {\n      setCurrentUser(user);\n      setShowModeratorBoard(user.roles.includes(\"ROLE_MODERATOR\"));\n      setShowAdminBoard(user.roles.includes(\"ROLE_ADMIN\"));\n    }\n\n    // Fetch data from the backend when the component mounts\n    fetchDataFromBackend()\n      .then((data) => {\n        console.log(\"Data from backend:\", data);\n        setData(data);\n      })\n      .catch((error) => console.error('Error:', error));\n  }, []);\n\n  const logOut = () => {\n    AuthService.logout();\n    setShowModeratorBoard(false);\n    setShowAdminBoard(false);\n    setCurrentUser(undefined);\n  };\n\n  return (\n    <div>\n      <nav className=\"navbar navbar-expand navbar-dark bg-dark bg-gradient\">\n        <Link to={\"/\"} className=\"navbar-brand\">\n          Agedb\n        </Link>\n        <div className=\"navbar-nav mr-auto\">\n          <li className=\"nav-item\">\n            <Link to={\"/home\"} className=\"nav-link\">\n              Home\n            </Link>\n          </li>\n\n          {showModeratorBoard && (\n            <li className=\"nav-item\">\n              <Link to={\"/mod\"} className=\"nav-link\">\n                Moderator Board\n              </Link>\n            </li>\n          )}\n\n          {showAdminBoard && (\n            <li className=\"nav-item\">\n              <Link to={\"/admin\"} className=\"nav-link\">\n                Admin Board\n              </Link>\n            </li>\n          )}\n\n          {currentUser && (\n            <li className=\"nav-item\">\n              <Link to={\"/user\"} className=\"nav-link\">\n                User\n              </Link>\n            </li>\n          )}\n\n          {/* Data Rendering Section */}\n          <div>\n            <div>\n              {data ? <p>{data.message.toString()}</p> : <p></p>}\n            </div>\n          </div>\n\n        </div>\n\n        {currentUser ? (\n          <div className=\"navbar-nav ml-auto\">\n            <li className=\"nav-item\">\n              <Link to={\"/profile\"} className=\"nav-link\">\n                {currentUser.username}\n              </Link>\n            </li>\n            <li className=\"nav-item\">\n              <a href=\"/login\" className=\"nav-link\" onClick={logOut}>\n                LogOut\n              </a>\n            </li>\n          </div>\n        ) : (\n          <div className=\"navbar-nav ml-auto\">\n            <li className=\"nav-item\">\n              <Link to={\"/login\"} className=\"nav-link\">\n                Login\n              </Link>\n            </li>\n\n            <li className=\"nav-item\">\n              <Link to={\"/register\"} className=\"nav-link\">\n                Sign Up\n              </Link>\n            </li>\n\n            {/* Add link to \"Forgot Password\" page */}\n           \n          </div>\n        )}\n      </nav>\n\n      <div className=\"container mt-3\">\n        <Routes>\n          <Route exact path={\"/\"} element={<Home />} />\n          <Route exact path={\"/home\"} element={<Home />} />\n          <Route exact path=\"/login\" element={<Login />} />\n          <Route exact path=\"/register\" element={<Register />} />\n          <Route exact path=\"/profile\" element={<Profile />} />\n          <Route path=\"/user\" element={<BoardUser />} />\n          <Route path=\"/mod\" element={<BoardModerator />} />\n          <Route path=\"/admin\" element={<BoardAdmin />} />\n          <Route path=\"/forgot-password\" element={<ForgotPassword />} /> {/* New route for ForgotPassword */}\n        </Routes>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}